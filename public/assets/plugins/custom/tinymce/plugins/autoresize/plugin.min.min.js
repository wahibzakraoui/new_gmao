!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},o=function(e,t,i,r,a){n.setEditorTimeout(e,(function(){s(e,t),i--?o(e,t,i,r,a):a&&a()}),r)},r=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},a=function(e,t,n,i){var o=parseInt(e.getStyle(t,n,i),10);return isNaN(o)?0:o},s=function(e,n){var o=e.dom,g=e.getDoc();if(g)if((u=e).plugins.fullscreen&&u.plugins.fullscreen.isFullscreen())r(e,!0);else{var u,l=g.documentElement,f=e.getParam("autoresize_bottom_margin",50,"number"),c=i(e),m=a(o,l,"margin-top",!0),d=a(o,l,"margin-bottom",!0),h=l.offsetHeight+m+d+f;h<0&&(h=0);var v=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;h+v>i(e)&&(c=h+v);var y=e.getParam("max_height",0,"number");if(y&&y<c?(c=y,r(e,!0)):r(e,!1),c!==n.get()){var p=c-n.get();if(o.setStyle(e.getContainer(),"height",c+"px"),n.set(c),e.fire("ResizeEditor"),t.browser.isSafari()&&t.mac){var b=e.getWin();b.scrollTo(b.pageXOffset,b.pageYOffset)}e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),t.webkit&&p<0&&s(e,n)}}};e.add("autoresize",(function(e){if(e.settings.hasOwnProperty("resize")||(e.settings.resize=!1),!e.inline){var t=(g=0,{get:function(){return g},set:function(e){g=e}});a=t,(r=e).addCommand("mceAutoResize",(function(){s(r,a)})),i=t,(n=e).on("init",(function(){var e=n.getParam("autoresize_overflow_padding",1,"number"),t=n.dom;t.setStyles(n.getDoc().documentElement,{height:"auto"}),t.setStyles(n.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})})),n.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){s(n,i)})),n.getParam("autoresize_on_init",!0,"boolean")&&n.on("init",(function(){o(n,i,20,100,(function(){o(n,i,5,1e3)}))}))}var n,i,r,a,g}))}();